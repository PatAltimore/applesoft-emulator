5 REM *** HUNT THE WUMPUS ***
6 REM BASED ON GREGORY YOB'S CLASSIC 1973 GAME
7 REM ADAPTED FOR APPLESOFT BASIC
10 HOME
20 PRINT "HUNT THE WUMPUS"
30 PRINT "==============="
40 PRINT
50 PRINT "THE WUMPUS LIVES IN A CAVE OF 20 ROOMS."
60 PRINT "EACH ROOM HAS 3 TUNNELS TO OTHER ROOMS."
70 PRINT "(THE CAVE IS A DODECAHEDRON)"
80 PRINT
90 PRINT "HAZARDS:"
100 PRINT " BOTTOMLESS PITS - TWO ROOMS HAVE THEM."
110 PRINT "   IF YOU FALL IN... IT'S OVER!"
120 PRINT " SUPER BATS - TWO ROOMS HAVE THEM."
130 PRINT "   IF YOU WALK IN, A BAT GRABS YOU AND"
140 PRINT "   DROPS YOU IN A RANDOM ROOM."
150 PRINT " WUMPUS - NOT BOTHERED BY HAZARDS. HE"
160 PRINT "   HAS SUCKER FEET AND IS TOO HEAVY"
170 PRINT "   FOR A BAT TO LIFT."
180 PRINT
190 PRINT "YOU HAVE 5 CROOKED ARROWS. YOU CAN"
200 PRINT "SHOOT THROUGH UP TO 5 ROOMS."
210 PRINT
220 PRINT "WARNINGS: YOU WILL BE TOLD IF A HAZARD"
230 PRINT "IS NEARBY (ONE ROOM AWAY)."
240 PRINT " 'I SMELL A WUMPUS' - WUMPUS NEARBY"
250 PRINT " 'I FEEL A DRAFT'  - PIT NEARBY"
260 PRINT " 'BATS NEARBY'     - BATS NEARBY"
270 PRINT
280 PRINT "PRESS ANY KEY TO START";
290 GET A$
300 HOME
310 REM *** SET UP CAVE CONNECTIONS ***
320 REM DODECAHEDRON LAYOUT: ROOM N HAS 3 NEIGHBORS
330 DIM C(20,3)
340 REM ROOM 1
350 C(1,1) = 2: C(1,2) = 5: C(1,3) = 8
360 REM ROOM 2
370 C(2,1) = 1: C(2,2) = 3: C(2,3) = 10
380 REM ROOM 3
390 C(3,1) = 2: C(3,2) = 4: C(3,3) = 12
400 REM ROOM 4
410 C(4,1) = 3: C(4,2) = 5: C(4,3) = 14
420 REM ROOM 5
430 C(5,1) = 1: C(5,2) = 4: C(5,3) = 6
440 REM ROOM 6
450 C(6,1) = 5: C(6,2) = 7: C(6,3) = 15
460 REM ROOM 7
470 C(7,1) = 6: C(7,2) = 8: C(7,3) = 17
480 REM ROOM 8
490 C(8,1) = 1: C(8,2) = 7: C(8,3) = 9
500 REM ROOM 9
510 C(9,1) = 8: C(9,2) = 10: C(9,3) = 18
520 REM ROOM 10
530 C(10,1) = 2: C(10,2) = 9: C(10,3) = 11
540 REM ROOM 11
550 C(11,1) = 10: C(11,2) = 12: C(11,3) = 19
560 REM ROOM 12
570 C(12,1) = 3: C(12,2) = 11: C(12,3) = 13
580 REM ROOM 13
590 C(13,1) = 12: C(13,2) = 14: C(13,3) = 20
600 REM ROOM 14
610 C(14,1) = 4: C(14,2) = 13: C(14,3) = 15
620 REM ROOM 15
630 C(15,1) = 6: C(15,2) = 14: C(15,3) = 16
640 REM ROOM 16
650 C(16,1) = 15: C(16,2) = 17: C(16,3) = 20
660 REM ROOM 17
670 C(17,1) = 7: C(17,2) = 16: C(17,3) = 18
680 REM ROOM 18
690 C(18,1) = 9: C(18,2) = 17: C(18,3) = 19
700 REM ROOM 19
710 C(19,1) = 11: C(19,2) = 18: C(19,3) = 20
720 REM ROOM 20
730 C(20,1) = 13: C(20,2) = 16: C(20,3) = 19
740 REM *** PLACE OBJECTS ***
750 REM L(1)=PLAYER L(2)=WUMPUS L(3)=PIT1
760 REM L(4)=PIT2 L(5)=BAT1 L(6)=BAT2
770 DIM L(6)
780 DIM S(6)
790 FOR I = 1 TO 6
800 L(I) = INT(RND(1) * 20) + 1
810 NEXT I
820 REM MAKE SURE NOTHING OVERLAPS
830 FOR I = 1 TO 6
840 FOR J = 1 TO 6
850 IF I = J THEN GOTO 890
860 IF L(I) = L(J) THEN L(I) = INT(RND(1) * 20) + 1: GOTO 830
870 REM ALL CLEAR
880 REM
890 NEXT J
900 NEXT I
910 REM SAVE START POSITIONS
920 FOR I = 1 TO 6
930 S(I) = L(I)
940 NEXT I
950 A = 5
960 REM *** MAIN GAME LOOP ***
970 PRINT
980 REM CHECK FOR HAZARDS NEARBY
990 FOR I = 1 TO 3
1000 R = C(L(1),I)
1010 IF R = L(2) THEN PRINT "I SMELL A WUMPUS!"
1020 IF R = L(3) OR R = L(4) THEN PRINT "I FEEL A DRAFT!"
1030 IF R = L(5) OR R = L(6) THEN PRINT "BATS NEARBY!"
1040 NEXT I
1050 PRINT
1060 PRINT "YOU ARE IN ROOM ";L(1)
1070 PRINT "TUNNELS LEAD TO ";C(L(1),1);" ";C(L(1),2);" ";C(L(1),3)
1080 PRINT "YOU HAVE ";A;" ARROWS."
1090 PRINT
1100 PRINT "SHOOT OR MOVE (S/M)";
1110 INPUT " ? ",O$
1120 IF O$ = "S" THEN GOTO 1300
1130 IF O$ = "M" THEN GOTO 1200
1140 PRINT "PLEASE ENTER S OR M"
1150 GOTO 1100
1200 REM *** MOVE ***
1210 INPUT "WHERE TO? ",M
1220 REM CHECK IF VALID MOVE
1230 FOR I = 1 TO 3
1240 IF C(L(1),I) = M THEN GOTO 1270
1250 NEXT I
1260 PRINT "NOT POSSIBLE - ": GOTO 1200
1270 L(1) = M
1280 GOTO 1500
1300 REM *** SHOOT ***
1310 INPUT "HOW MANY ROOMS (1-5)? ",N
1320 IF N < 1 OR N > 5 THEN PRINT "1-5 ROOMS ONLY": GOTO 1310
1330 DIM P(5)
1340 FOR I = 1 TO N
1350 PRINT "ROOM #";I;
1360 INPUT "? ",P(I)
1370 IF I > 1 AND P(I) = P(I - 1) THEN PRINT "ARROWS AREN'T THAT CROOKED!": GOTO 1350
1380 NEXT I
1390 REM SHOOT THE ARROW
1400 R = L(1)
1410 FOR I = 1 TO N
1420 REM CHECK IF ARROW CAN REACH ROOM P(I)
1430 F = 0
1440 FOR J = 1 TO 3
1450 IF C(R,J) = P(I) THEN F = 1
1460 NEXT J
1470 IF F = 1 THEN R = P(I): GOTO 1490
1480 REM ARROW GOES TO RANDOM NEIGHBOR
1485 R = C(R, INT(RND(1) * 3) + 1)
1490 IF R = L(2) THEN GOTO 1600
1492 IF R = L(1) THEN GOTO 1620
1494 NEXT I
1496 PRINT "MISSED!"
1497 A = A - 1
1498 IF A = 0 THEN GOTO 1640
1499 GOTO 1660
1500 REM *** CHECK ROOM HAZARDS ***
1510 REM CHECK FOR WUMPUS
1520 IF L(1) = L(2) THEN GOTO 1700
1530 REM CHECK FOR PIT
1540 IF L(1) = L(3) OR L(1) = L(4) THEN GOTO 1750
1550 REM CHECK FOR BATS
1560 IF L(1) = L(5) OR L(1) = L(6) THEN GOTO 1800
1570 GOTO 960
1600 REM *** ARROW HIT WUMPUS ***
1610 PRINT "AHA! YOU GOT THE WUMPUS!": PRINT "HEE HEE HEE - THE WUMPUS'LL GETCHA NEXT TIME!!": GOTO 1900
1620 REM *** ARROW HIT PLAYER ***
1630 PRINT "OUCH! ARROW GOT YOU!": GOTO 1850
1640 REM *** OUT OF ARROWS ***
1650 PRINT "YOU RAN OUT OF ARROWS...": GOTO 1850
1660 REM *** BUMP WUMPUS AFTER SHOT ***
1670 REM WUMPUS WAKES UP AND MAYBE MOVES
1680 K = INT(RND(1) * 4)
1690 IF K < 3 THEN L(2) = C(L(2), K + 1)
1695 IF L(1) = L(2) THEN PRINT "TSK TSK TSK - WUMPUS GOT YOU!": GOTO 1850
1696 GOTO 960
1700 REM *** BUMPED THE WUMPUS ***
1710 PRINT "...OOPS! BUMPED A WUMPUS!"
1720 REM WUMPUS MOVES TO RANDOM NEIGHBOR (OR STAYS)
1730 K = INT(RND(1) * 4)
1740 IF K < 3 THEN L(2) = C(L(2), K + 1)
1742 IF L(1) = L(2) THEN PRINT "TSK TSK TSK - WUMPUS GOT YOU!": GOTO 1850
1744 GOTO 960
1750 REM *** FELL IN PIT ***
1760 PRINT "YYYIIIIEEEE... FELL IN A PIT!"
1770 GOTO 1850
1800 REM *** SUPER BATS ***
1810 PRINT "ZAP--SUPER BAT SNATCH! ELSEWHEREVILLE FOR YOU!"
1820 L(1) = INT(RND(1) * 20) + 1
1830 GOTO 1500
1850 REM *** LOSE ***
1860 PRINT
1870 PRINT "HA HA HA - YOU LOSE!"
1880 GOTO 1900
1900 REM *** GAME OVER ***
1910 PRINT
1920 INPUT "SAME SETUP (Y/N)? ",Q$
1930 IF Q$ = "Y" THEN GOTO 1960
1940 IF Q$ = "N" THEN GOTO 1980
1950 GOTO 1920
1960 REM RESTORE ORIGINAL POSITIONS
1970 FOR I = 1 TO 6: L(I) = S(I): NEXT I: A = 5: GOTO 960
1980 REM NEW GAME
1990 GOTO 780
